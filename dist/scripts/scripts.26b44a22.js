"use strict";angular.module("plexrequestApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngMaterial"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]).config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("teal").accentPalette("deep-orange").warnPalette("orange").backgroundPalette("grey").dark()}]),angular.module("plexrequestApp").controller("MainCtrl",["$scope","$rootScope","$timeout","$mdSidenav","$log",function(a,b,c,d,e){function f(){a.searching=!a.searching}function g(){d("right").close().then(function(){e.debug("close RIGHT is done")})}function h(b){if(b.selected=!b.selected,b.selected)-1===a.addedMovies.indexOf(b.title)&&a.addedMovies.push(b.title);else if(-1!==a.addedMovies.indexOf(b.title)){var c=a.addedMovies.indexOf(b.title);a.addedMovies.splice(c,1)}}function i(){for(var b="sbframp@gmail.com",c="Plex Request",d="",e=0;e<a.addedMovies.length;e++){var f=a.addedMovies[e];d+=f+", "}window.location.href="mailto:"+b+"?subject="+c+"&body="+d}function j(c){return function(){d(c).toggle().then(function(){b.addedMovies=a.addedMovies,e.debug("toggle "+c+" is done")})}}function k(b){var c=encodeURI(b);$.ajax({url:"https://api.themoviedb.org/3/search/movie?api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99&query="+c,dataType:"jsonp",success:function(b){a.$apply(function(){a.searchMovies=b.results})}}),a.searching=!0}function l(){$.ajax({url:"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99",dataType:"jsonp",success:function(b){a.$apply(function(){a.popularMovies=b.results})}}),$.ajax({url:"https://api.themoviedb.org/3/discover/movie?certification_country=US&certification.lte=G&sort_by=popularity.desc&api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99",dataType:"jsonp",success:function(b){a.$apply(function(){a.popularKidsMovies=b.results})}}),$.ajax({url:"https://api.themoviedb.org/3/discover/movie?certification_country=US&with_genres=18&sort_by=popularity.desc&api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99",dataType:"jsonp",success:function(b){a.$apply(function(){a.dramaMovies=b.results})}}),$.ajax({url:"https://api.themoviedb.org/3/discover/movie?certification_country=US&with_genres=28&sort_by=popularity.desc&api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99",dataType:"jsonp",success:function(b){a.$apply(function(){a.actionMovies=b.results})}}),$.ajax({url:"https://api.themoviedb.org/3/discover/movie?certification_country=US&with_genres=12&sort_by=popularity.desc&api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99",dataType:"jsonp",success:function(b){a.$apply(function(){a.adventureMovies=b.results})}}),$.ajax({url:"https://api.themoviedb.org/3/discover/movie?certification_country=US&with_genres=35&sort_by=popularity.desc&api_key=7f5c7cfc2f811e4c7c6c6e5ee73bba99",dataType:"jsonp",success:function(b){a.$apply(function(){a.comedyMovies=b.results})}})}a.init=l,a.select=h,a.close=g,a.sendRequest=i,a.search=k,a.backToHome=f,a.addedMovies=[],b.addedMovies=[],a.searching=!1,a.toggleRight=j("right"),a.isOpenRight=function(){return d("right").isOpen()},a.init()}]),angular.module("plexrequestApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("plexrequestApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div id="page"> <md-toolbar class="md-hue-2"> <div class="md-toolbar-tools"> <h2 flex md-truncate>Plex Request</h2> <md-button ng-click="toggleRight()" ng-hide="isOpenRight()" class="plex-color"> View Selected </md-button> </div> </md-toolbar> <md-toolbar> <div class="md-toolbar-tools search-bar" layout="column" layour-align="center center"> <div flex style="width:50%"> <md-input-container class="md-block"> <!-- Use floating placeholder instead of label --> <input ng-model="searchString" type="input" placeholder="Search" ng-required="true"> <md-icon class="fa fa-search search-icon" ng-click="search(searchString)"></md-icon> </md-input-container> </div> </div> </md-toolbar> <!-- <div flex layout="row" layout-align="center">\r\n    <div flex="90">\r\n      <md-input-container class="md-block">\r\n        <md-icon class="fa fa-search"></md-icon>\r\n        <input ng-model="searchString" type="input" placeholder="Search" ng-required="true">\r\n      </md-input-container>\r\n    </div>\r\n    <div layout="column" layout-align="center center">\r\n      <md-button class="search-button" ng-click="search(searchString)"\r\n            class="plex-color">\r\n            Search\r\n      </md-button>\r\n    </div>\r\n  </div> --> <!-- SEARCH CONTENT --> <md-content layout-padding ng-if="searching"> <!-- Search Section --> <div class="section-text">Search Results</div> <div layout="column" layout-align="center center"> <md-button ng-click="backToHome()" class="plex-color"> Back to Home </md-button> </div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in searchMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> <div ng-show="movie.backdrop_path === null">No Image Available</div> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> </md-content> <md-content layout-padding ng-if="!searching"> <!-- Popular Movies Section --> <div class="section-text">Popular Movies</div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in popularMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> <!-- Popular Kids Movies Section --> <div class="section-text">Kids</div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in popularKidsMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> <!-- Drama Movies Section --> <div class="section-text">Drama</div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in dramaMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> <!-- Action Movies Section --> <div class="section-text">Action</div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in actionMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> <!-- Adventure Movies Section --> <div class="section-text">Adventure</div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in adventureMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> <!-- Comedy Movies Section --> <div class="section-text">Comedy</div> <md-divider class="plex"></md-divider> <md-grid-list md-cols-gt-md="5" md-cols="3" md-cols-md="4" md-row-height-gt-md="350px" md-row-height="100px" md-gutter-gt-md="8px" md-gutter-md="4px" md-gutter="2px"> <md-grid-tile ng-repeat="movie in comedyMovies" md-colspan-gt-sm="1" md-rowspan-gt-sm="1"> <div layout="column" layout-align="none" flex="100" style="height: 100%"> <div class="section-header" layout="column" layout-align="center stretch"> <div layout="row" layout-align="none" class="movie-text"> <div class="title-font" flex> {{movie.title}} </div> <div class="heart-icon" ng-click="select(movie)"> <i ng-class="{\'fa fa-heart-o\' : !movie.selected, \'fa fa-heart\' : movie.selected }" aria-hidden="true"></i> </div> </div> </div> <div class="heart-icon" layout="column" layout-align="stretch" flex="90" class="movie-image" ng-click="select(movie)" ng-style="{\r\n                \'background\': \'url(http://image.tmdb.org/t/p/w780/\' + movie.backdrop_path + \')\',\r\n                \'background-repeat\': \'no-repeat\',\r\n                \'background-size\': \'cover\'\r\n              }"> </div> <md-tooltip md-direction="top">{{movie.title}}</md-tooltip> </div> </md-grid-tile> </md-grid-list> </md-content> <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right"> <md-toolbar class="md-theme-light"> <h1 class="md-toolbar-tools">Movies Selected</h1> </md-toolbar> <md-content layout-padding> <div ng-show="addedMovies.length === 0">Nothing selected</div> <div ng-repeat="mov in addedMovies"> {{mov}} </div> <md-divider class="plex"></md-divider> <md-button ng-click="sendRequest()" class="plex-color"> Send Request </md-button> <md-button ng-click="close()" class="plex-color"> Close </md-button> </md-content> </md-sidenav> </div>')}]);